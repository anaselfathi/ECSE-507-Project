function [ out ] = Betts1227ConstDiff( X )
%BETTS6FUN Summary of this function goes here
%   Detailed explanation goes here

X = X(:);

if(length(X) ~= 5)
    out = NaN;
    return;
end

a(7) = -145421.402;
a(8) = 2931.1506;
a(9) = -40.427932;
a(10) = 5106.192;
a(11) = 15711.36;
a(12) = -155011.1084;
a(13) = 4360.53352;
a(14) = 12.9492344;
a(15) = 10236.884;
a(16) = 13176.786;
a(17) = -326669.5104;
a(18) = 7390.68412;
a(19) = -27.8986976;
a(20) = 16643.076;
a(21) = 30988.146;

out(1:5,:) = eye(5);
out(6:9,:) = [[0;0;0;0] -eye(4)];
out(10,:) = [a(7) + a(8) * X(2) + a(9) * X(3) + a(10) * X(4) + a(11) * X(5), a(8) * X(1), a(9) * X(1), a(10) * X(1), a(11) * X(1)];
out(11,:) = -out(10,:);
out(12,:) = [a(12) + a(13) * X(2) + a(14) * X(3) + a(15) * X(4) + a(16) * X(5), a(13) * X(1), a(14) * X(1), a(15) * X(1), a(16) * X(1)];
out(13,:) = -out(12,:);
out(14,:) = [a(17) + a(18) * X(2) + a(19) * X(3) + a(20) * X(4) + a(21) * X(5), a(18) * X(1), a(19) * X(1), a(20) * X(1), a(21) * X(1)];
out(15,:) = -out(14,:);

out = -out';

end